# Raiders Web App (отдельный проект)

Веб‑приложение для работы с тем же `bot.db`, что и Telegram‑бот, но без привязки к боту.

## Что умеет
- Рейд: вход, лут, бой, эвакуация, расходники.
- Хранилище: сортировка, пагинация, апгрейд слотов.
- Продажа: обмен предметов на RC с учётом заказа дня и вкладов в общий склад.
- Магазин: витрина дня, расходники, страховка, апгрейд склада.
- Крафт и чертежи: изучение чертежей + производство предметов.
- Снаряжение: выбор брони, оружия, расходника, аугмента.
- Общий склад: прогресс, заказ дня, лидер по вкладам.
- Рейтинг топ‑игроков.
- Контракты (ежедневные/недельные).
- Рынок между игроками.
- Сезонный рейтинг с наградами.
- Ежедневный кейс.

## Запуск
```
cd raid_webapp
pip install -r requirements.txt
```

Переменные окружения:
```
BOT_TOKEN=...         # опционально (если нужен Telegram initData)
WEBAPP_BOT_USERNAME=YourBot  # для кнопки входа через Telegram (без @)
DB_PATH=C:/bots/raid/bot.db
DATA_DIR=C:/bots/raid/data
WEBAPP_DEFAULT_CHAT_ID=1                 # контекст рейда для веба
WEBAPP_DEFAULT_THREAD_ID=0               # контекст ветки
WEBAPP_AUTH_SECRET=...                   # секрет для токенов (если пусто — BOT_TOKEN)
WEBAPP_TOKEN_TTL=2592000                 # TTL токена (сек)
WEBAPP_ADMIN_EMAILS=admin@example.com    # кто видит админ‑панель (через запятую)
WEBAPP_DISABLE_COOLDOWNS=1               # 1 = без КД в веб‑версии
```

Запуск:
```
uvicorn app:app --host 0.0.0.0 --port 8000
```

## Как открыть
- В браузере: http://127.0.0.1:8000/ — логин по почте/паролю.
- Вход через Telegram: укажите `WEBAPP_BOT_USERNAME` и добавьте домен в BotFather (/setdomain).
