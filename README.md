# ARC рейд-бот (Telegram)

Текстовая рейд-игра по мотивам ARC Raiders для группового чата и отдельной темы (ветки).
Все действия выполняются через кнопки. Команда `/bind` нужна только для привязки бота к теме.

## Быстрый старт
1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Создайте `.env` на основе `.env.example` и укажите токен бота.
3. Запустите:
   ```bash
   python -m bot.main
   ```

## Привязка к теме
Внутри нужной темы выполните команду:
```
/bind
```
После этого бот отправит панель с кнопками в эту ветку.

## Кнопки и механики (MVP)
- Войти в рейд, Лутать, Идти дальше, Эвакуация
- Случайные события (засады, буря, окно эвакуации)
- Разные роботы ARC с разным уроном
- Разный лут по редкостям из JSON
- Каждый найденный предмет можно взять или оставить (кнопками)
- Экипировка (броня, оружие, аптечки)
- Рейтинг игроков
- Рейдовый инвентарь (лимит 20), лут сохраняется в хранилище после эвакуации
- Хранилище игрока (лимит 50, меняется в `bot/config.py`)
- Редкости предметов показываются цветными смайлами
- Кнопка «Редкости» показывает легенду цветов
- Дневной лимит рейдов (по умолчанию 15)
- Ставка очков при входе в рейд с возвратом бонуса при эвакуации
- Тяжёлые рейды (редко): больше лута, сложнее эвакуироваться
- Враги‑контролёры: сильнее и дают шанс легендарного трофея
- Снаряжение, взятое в рейд, теряется при смерти
- Хранилище: пагинация, сортировка и улучшение лимита за очки
- Улучшение склада требует подтверждения
- Снаряжение: выбор брони/оружия/аптечки из хранилища
- Чипы: редкие предметы с временными бафами на рейд (алчность/эвакуация/урон)
- Крафт: броня/аптечка/модуль по рецептам
- Магазин: слоты, страховка, расходники за очки
- Магазин: ежедневная витрина (случайные предметы и рецепт дня)
- Магазин: дневной лимит покупок и налог на последовательные покупки
- События: аномалия, тихая зона, ARC-коллектор
- Кнопка «Лор» с описанием мира и правил
- Кулдауны на действия с таймером на кнопках

Рецепты лежат в `data/recipes.json`.

## Админ-панель
Кнопка «Админ» показывает настройки баланса (риск событий, влияние алчности, шанс эвакуации).
Доступна только администраторам чата.

## Удаление отчета о рейде
После смерти или эвакуации сообщение с результатом удаляется автоматически через 60 секунд
или вручную кнопкой «Удалить отчет».

## Автоочистка ветки
Все сообщения бота (кроме закрепленного) удаляются автоматически, чтобы не захламлять тему.
